      - name: Commit & push results
        run: |
          set -eux

          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"

          echo "== BEFORE ADD =="
          git status

          # Add generated files
          git add comments.csv state.json || true
          git add to_check_trailer.csv || true

          echo "== AFTER ADD =="
          git status

          echo "== STAGED DIFF =="
          git diff --cached --stat || true

          if git diff --cached --quiet; then
            echo "No changes to commit"
            exit 0
          fi

          git commit -m "Update generated data"
          git push origin HEAD:main
